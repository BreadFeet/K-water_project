{% extends 'home.html' %}
{% load static %}
{% block content %}
<script>
    function display(da) {
        Highcharts.chart('container', {
            title: {
                text: da.loc + '의 수돗물 수질 정보'
            },
            subtitle: {
                text: 'Source: 환경부 - 국가상수도정보시스템'
            },
            yAxis: {
                title: {
                    text: '농도 (mg/L)'
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle'
            },
            plotOptions: {
                series: {
                    label: {
                        connectorAllowed: false
                    },
                    pointStart: 2008
                }
            },
            series: da.data,
            responsive: {
                rules: [{
                    condition: {
                        maxWidth: 500
                    },
                    chartOptions: {
                        legend: {
                            layout: 'horizontal',
                            align: 'center',
                            verticalAlign: 'bottom'
                        }
                    }
                }]
            }
        });
    };


    function getData(loc) {
        $.ajax({
            url: 'chart1s',
            data: {loc: loc},
            type: 'get',
            datatype: 'json',
            success: function(data) {
                //alert(data);
                display(data);
            }
        });
    };


    $(document).ready(function() {
        $('button').click(function() {
            loc = $('select').val();
            //alert(loc)
            getData(loc);
        });
    });


</script>

                    <div class="pcoded-content">
                        <div class="pcoded-inner-content">

                            <div class="main-body">
                                <div class="page-wrapper">
                                    <!-- Page-header start -->
                                    <div class="page-header card">
                                        <div class="row align-items-end">
                                            <div class="col-lg-8">
                                                <div class="page-header-title">
                                                    <i class="icofont icofont-chart-bar-graph bg-c-blue"></i>
                                                    <div class="d-inline">
                                                        <h4>지역별 수돗물 수질 정보</h4>
                                                        <span>• 지역을 선택하면 아래에서 수돗물 수질 정보를 확인할 수 있습니다.</span>
                                                        <div class="col-sm-12">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <select class="form-control form-control-info">
                                                    <option value="서울특별시">서울특별시</option>
                                                    <option value="부산광역시">부산광역시</option>
                                                    <option value="대구광역시">대구광역시</option>
                                                    <option value="인천광역시">인천광역시</option>
                                                    <option value="광주광역시">광주광역시</option>
                                                    <option value="대전광역시">대전광역시</option>
                                                    <option value="울산광역시">울산광역시</option>
                                                    <option value="세종특별자치시">세종특별자치시</option>
                                                    <option value="경기도">경기도</option>
                                                    <option value="강원도">강원도</option>
                                                    <option value="충청북도">충청북도</option>
                                                    <option value="충청남도">충청남도</option>
                                                    <option value="전라북도">전라북도</option>
                                                    <option value="전라남도">전라남도</option>
                                                    <option value="경상북도">경상북도</option>
                                                    <option value="경상남도">경상남도</option>
                                                    <option value="제주특별자치도">제주특별자치도</option>
                                                </select>
                                            </div>
                                            <div>&emsp;</div>
                                            <div>
                                                <button class="btn btn-info btn-round">Search</button>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Page-header end -->

                                    <div class="page-body">
                                        <div class="row">
                                            <!-- EXTRA AREA CHART start -->
                                            <div class="col-lg-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h5>Line chart</h5>
                                                        <span>• 2008~2019년 불소, 붕소, 알루미늄, 아연, 톨루엔, 총트리할로메탄, 할로아세틱에시드, 포름알데히드, 클로로포름의 농도 변화 확인</span>
                                                        <div class="card-header-right">
                                                    </div>
                                                    <div class="card-block">
                                                        <div id="container"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--EXTRA AREA CHART Ends -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="styleSelector">

                            </div>
                        </div>
                    </div>


<!-- Required Jquery -->
<script type="text/javascript" src="{% static 'assets/js/jquery/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/jquery-ui/jquery-ui.min.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/popper.js/popper.min.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/bootstrap/js/bootstrap.min.js' %}"></script>
<!-- jquery slimscroll js -->
<script type="text/javascript" src="{% static 'assets/js/jquery-slimscroll/jquery.slimscroll.js' %}"></script>
<!-- modernizr js -->
<script type="text/javascript" src="{% static 'assets/js/modernizr/modernizr.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/modernizr/css-scrollbars.js' %}"></script>
<!-- am chart -->
<script src="{% static 'assets/pages/widget/amchart/amcharts.min.js' %}"></script>
<script src="{% static 'assets/pages/widget/amchart/serial.min.js' %}"></script>
<!-- Todo js -->
<script type="text/javascript " src="{% static 'assets/pages/todo/todo.js' %}"></script>
<!-- classie js -->
<script type="text/javascript" src="{% static 'assets/js/classie/classie.js' %}"></script>
<!-- Morris Chart js -->
<script src="{% static 'assets/js/raphael/raphael.min.js' %}"></script>
<script src="{% static 'assets/js/morris.js/morris.js' %}"></script>
<!-- Custom js -->
<script src="{% static 'assets/pages/chart/morris/morris-custom-chart.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/script.js' %}"></script>
<script src="{% static 'assets/js/pcoded.min.js' %}"></script>
<script src="{% static 'assets/js/demo-12.js' %}"></script>
<script src="{% static 'assets/js/jquery.mCustomScrollbar.concat.min.js' %}"></script>
</body>

</html>
{% endblock %}